<html>
  <header>
    <link rel="stylesheet" href="/SassySwiftiesFrontend/assets/css/header.css">
    <div class="header-content">
        <h1>Sassy Swifties</h1>
        <nav>
        <ul>
            <li><a href="/SassySwiftiesFrontend/landing">Home</a></li>
            <li class="dropdown">
            <a href="#">Games</a>
            <ul class="dropdown-content">
                <li><a href="https://lwu1822.github.io/SassySwiftiesFrontend/game/matching">Matching</a></li>
                <li><a href="https://lwu1822.github.io/SassySwiftiesFrontend/QuizGame">Quiz</a></li>
                <li><a href="https://lwu1822.github.io/SassySwiftiesFrontend/songGuessing">Song Guessing</a></li>
                <li><a href="https://lwu1822.github.io/SassySwiftiesFrontend/game/scoreboard">Scoreboard</a></li>
            </ul>
            </li>
            <li class="dropdown">
            <a href="#">Songs</a>
            <ul class="dropdown-content">
                <li><a href="https://lwu1822.github.io/SassySwiftiesFrontend/songlist">Rating</a></li>
                <li><a href="https://lwu1822.github.io/SassySwiftiesFrontend/SongUpload">Upload</a></li>
                <li><a href="https://lwu1822.github.io/SassySwiftiesFrontend/playSong">Play</a></li>
                <li><a href="/SassySwiftiesFrontend/explore">Explore</a></li>
            </ul>
            </li>
            <li><a href="/pages/messageboard/messageboard">Message</a></li>
            <li><a href="/pages/shop/shop">Shop</a></li> 
            <li><a href="https://lwu1822.github.io/SassySwiftiesFrontend/login">Login</a></li><li>
            </li><li><a href="https://lwu1822.github.io/SassySwiftiesFrontend/createaccount">Create</a></li><li>
            <span id="settings"></span>
        </li></ul> 
        </nav> 
    </div> 
    <img src="/images/taylorheader.png" alt="Taylor Swift Singing" height="220px"> 
</header>
<head>
  <title>Song Upload</title>
  <link rel="stylesheet" href="uploadstyles.css">
</head>
<body>
  <h1>Upload Your Own Song (mp3 only)</h1>

  <form id="uploadForm">
    <label for="songName">Song Name:</label>
    <input type="text" id="songName" required><br><br>
    <label for="artistName">Artist Name:</label>
    <input type="text" id="artistName" required><br><br>
    <label for="mp3File">Choose an MP3 file:</label>
    <input type="file" id="mp3File" accept=".mp3" required><br><br>
    <label for="coverFile">Choose a cover image:</label>
    <input type="file" id="coverFile" accept="image/*" required><br><br>
    <input type="submit" value="Upload">
  </form>
  
  <script>
    document.getElementById("uploadForm").addEventListener("submit", function(event) {
      event.preventDefault();
      var songName = document.getElementById("songName").value;
      var artistName = document.getElementById("artistName").value;
      var mp3File = document.getElementById("mp3File").files[0];
      var coverFile = document.getElementById("coverFile").files[0];
      
      var reader = new FileReader();
      reader.onload = function(event) {
        var mp3Data = event.target.result.split(",")[1];
        
        var coverReader = new FileReader();
        coverReader.onload = function(event) {
          var coverData = event.target.result.split(",")[1];
          
          var songData = {
            songName: songName,
            artistName: artistName,
            mp3Data: mp3Data,
            coverData: coverData
          };
          
          var uploadedSongs = JSON.parse(localStorage.getItem("uploadedSongs")) || [];
          uploadedSongs.push(songData);
          localStorage.setItem("uploadedSongs", JSON.stringify(uploadedSongs));

          alert("Song successfully uploaded!");
          document.getElementById("uploadForm").reset();
        };
        coverReader.readAsDataURL(coverFile);
      };
      reader.readAsDataURL(mp3File);
    });
  </script>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script>$("#header").load("{{ site.baseurl }}/header.html");</script>
</html>

